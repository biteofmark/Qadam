
# Инструкции Copilot для EProject

## Общая архитектура
- **Монорепозиторий**: Содержит папки `client/` (фронтенд), `server/` (бэкенд) и `shared/` (схемы, типы).
- **Фронтенд**: Реализован на React (TypeScript) в `client/src/`. UI-компоненты организованы по доменам (`admin/`, `proctoring/`, `ui/`).
- **Бэкенд**: Node.js/TypeScript в `server/`. Сервисы в `services/`, основная логика в `routes.ts`, доступ к базе данных — в `db.ts`.
- **Общие типы**: Общие схемы и типы — в `shared/` (`push-schema.ts`, `schema.ts`).

## Рабочие процессы разработчика
- **Сборка фронтенда**: Используется Vite. Точка входа: `client/src/main.tsx`. Конфиг: `vite.config.ts`.
- **Запуск бэкенда**: Для локальной разработки используйте `pm2-server.js` или `simple-server.js`. Главный файл: `server/index.ts`.
- **База данных**: Используется Drizzle ORM. Конфиг: `drizzle.config.ts`. Скрипты для наполнения: `seed-data.js`, `seed-ent.js`.
- **Тестирование**: Стандартный тест-раннер не обнаружен; используйте кастомные скрипты или ручное тестирование через `test-env.js`.
- **Стилизация**: Tailwind CSS, конфиги — `tailwind.config.ts`, `postcss.config.js`.

## Специфические конвенции проекта
- **Организация компонентов**: UI-компоненты сгруппированы по доменам и типам (`ui/`, `admin/`, `proctoring/`).
- **Хуки**: Кастомные React-хуки в `client/src/hooks/` (`use-auth.tsx`, `use-push-notifications.tsx`).
- **Утилиты**: Общая логика в `client/src/lib/` (`exportUtils.ts`, `offline-db.ts`).
- **Границы сервисов**: Бэкенд-сервисы в `server/services/` (`excel.service.ts`, `pdf.service.ts`).
- **Общение между компонентами**: Общие типы/интерфейсы — в `shared/`.

## Интеграции и внешние зависимости
- **PM2**: Для управления процессами (`pm2-server.js`).
- **Drizzle ORM**: Для работы с базой данных и миграций.
- **Tailwind CSS**: Для стилизации.
- **Vite**: Для сборки и dev-сервера фронтенда.
- **Сервисные файлы**: Интеграция с внешней генерацией файлов (Excel, PDF) и push-уведомлениями.

## Примеры и ключевые файлы
- **Точка входа фронтенда**: `client/src/main.tsx`
- **Точка входа бэкенда**: `server/index.ts`
- **Конфиг базы данных**: `drizzle.config.ts`
- **Пример UI-компонента**: `client/src/components/ui/button.tsx`
- **Пример кастомного хука**: `client/src/hooks/use-auth.tsx`
- **Пример сервиса**: `server/services/push.service.ts`
- **Пример общей схемы**: `shared/schema.ts`

## Как быть продуктивным
- Следуйте доменной структуре для новых компонентов и сервисов.
- Используйте типы из `shared/` для взаимодействия между слоями.
- Перед созданием новых хуков/утилит смотрите существующие реализации.
- Для управления процессами бэкенда используйте PM2.
- Проверяйте кастомные скрипты в корне проекта для нестандартных рабочих процессов.

---
_Если какой-либо раздел неясен или требует дополнения, напишите для уточнения._
